{
  "name": "n8n container",
  "dockerComposeFile": "docker-compose.yml",
  "service": "n8n",
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",

  "postCreateCommand": "${containerWorkspaceFolder}/.devcontainer/scripts/post-create.sh",
  "postAttachCommand": "${containerWorkspaceFolder}/.devcontainer/scripts/post-attach.sh",

  "forwardPorts": [5678],
  "portsAttributes": {
    "5678": { "label": "n8n UI", "onAutoForward": "openBrowser" }
  },

  "remoteEnv": {
    "N8N_USER_FOLDER": "${containerWorkspaceFolder}/n8n_data",
    "DB_PASSWORD": "${localEnv:DB_PASSWORD}",
    "N8N_ENCRYPTION_KEY": "${localEnv:N8N_ENCRYPTION_KEY}"
  },
  
  "secrets": {
    "DB_PASSWORD": {
      "description": "PostgreSQL database password"
    },
    "N8N_ENCRYPTION_KEY": {
      "description": "n8n data encryption key"
    }
  },

  "customizations": {
    "codespaces": {
      "openFiles": ["CONTRIBUTING.md"]
    },
    "vscode": {
      "extensions": [
        "anthropic.claude-code",
        "ms-azuretools.vscode-docker",
        "ckolkman.vscode-postgres",
        "esbenp.prettier-vscode",
        "humao.rest-client"
      ],
      "settings": {
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
          "source.fixAll": true
        }
      }
    }
  }
}