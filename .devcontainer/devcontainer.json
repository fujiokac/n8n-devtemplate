{
  "name": "n8n container",
  "dockerComposeFile": "docker-compose.yml",
  "service": "n8n",
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",

  "postCreateCommand": "${containerWorkspaceFolder}/.devcontainer/scripts/post-create.sh",
  "postAttachCommand": "${containerWorkspaceFolder}/.devcontainer/scripts/post-attach.sh",

  "forwardPorts": [5678],
  "portsAttributes": {
    "5678": { "label": "n8n UI", "onAutoForward": "openBrowser" }
  },

  "remoteEnv": {
    "LOGS_DIR": "logs",
    "N8N_USER_FOLDER": "/workspaces/n8n_data",
    // PostgreSQL only: uncomment the line below when switching to PostgreSQL
    // "DB_PASSWORD": "${localEnv:DB_PASSWORD}",
    "N8N_ENCRYPTION_KEY": "${localEnv:N8N_ENCRYPTION_KEY}"
  },
  
  "secrets": {
    // PostgreSQL only: uncomment the block below when switching to PostgreSQL
    // "DB_PASSWORD": {
    //   "description": "PostgreSQL database password"
    // },
    "N8N_ENCRYPTION_KEY": {
      "description": "n8n data encryption key"
    }
  },

  "customizations": {
    "codespaces": {
      "openFiles": ["README.md"]
    },
    "vscode": {
      "extensions": [
        "anthropic.claude-code",
        "ms-azuretools.vscode-docker",
        // PostgreSQL only: uncomment the line below when switching to PostgreSQL
        // "ckolkman.vscode-postgres",
        "esbenp.prettier-vscode",
        "humao.rest-client",
        "github.vscode-github-actions"
      ],
      "settings": {
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
          "source.fixAll": "explicit"
        }
      }
    }
  }
}